"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Query = void 0;
// PAYLOADS
var Variables_1 = require("../payloads/Variables");
var Features_1 = require("../payloads/Features");
/**
 * User set URL query paramters that can be used to customize the format in which data is received.
 *
 * @public
 */
var Query = /** @class */ (function () {
    /**
     * Initializes the URL parameters.
     *
     * @param resourceType The type of resource requested.
     * @param args Additional user-defined arguments to be sent in the request.
     */
    function Query(resourceType, args) {
        this.variables = new Variables_1.Variables(resourceType, args).toString();
        this.features = new Features_1.Features().toString();
    }
    /**
     * Converts this object to it's string representation.
     *
     * @returns 'this' object's string representation;
     */
    Query.prototype.toString = function () {
        /**
         * This first filters out all the empty paramters.
         * Then it formats each parameter key value pair as 'key=value'.
         * Then it joins the list of all formatted parameters using '&' as a separator.
         */
        return Object.entries(this)
            .filter(function (_a) {
            var value = _a[1];
            return value;
        })
            .map(function (_a) {
            var key = _a[0], value = _a[1];
            return "".concat(key, "=").concat(value);
        })
            .join('&');
    };
    return Query;
}());
exports.Query = Query;
//# sourceMappingURL=Query.js.map